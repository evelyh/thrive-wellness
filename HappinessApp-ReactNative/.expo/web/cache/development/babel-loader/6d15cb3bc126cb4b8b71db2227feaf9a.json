{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Calvin\\\\Desktop\\\\team-project-2-bellwoods-strategic-capital\\\\HappinessApp-ReactNative\\\\screens\\\\JourneyManagement\\\\ManageQuestScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport \"react-native-gesture-handler\";\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { NetworkContext } from \"../../contexts/Networking\";\nvar url = 'http://3.15.239.159:8000';\n\nvar ManageQuestScreen = function (_React$Component) {\n  _inherits(ManageQuestScreen, _React$Component);\n\n  var _super = _createSuper(ManageQuestScreen);\n\n  function ManageQuestScreen(props) {\n    var _this;\n\n    _classCallCheck(this, ManageQuestScreen);\n\n    _this = _super.call(this, props);\n\n    _this.deleteThisQuest = function _callee() {\n      var quest, navigation, data, result;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              quest = _this.state.quest;\n              navigation = _this.props.navigation;\n              data = {\n                method: 'DELETE',\n                headers: {\n                  'Authorization': 'Token ' + _this.context.token\n                }\n              };\n              _context.prev = 3;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(fetch(url + '/api/quests/' + quest.id + '/', data));\n\n            case 6:\n              result = _context.sent;\n              navigation.goBack();\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](3);\n\n              _this.context.displayNoConnectionAlert();\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[3, 10]], Promise);\n    };\n\n    _this.displayDeletionAlert = function () {\n      Alert.alert(\"Deletion Alert\", \"Are you sure you want to delete this Quest? This quest may be a part of other journeys.\\nYou can't undo this action.\", [{\n        text: \"Cancel\",\n        style: \"cancel\"\n      }, {\n        text: \"Delete\",\n        onPress: _this.deleteThisQuest,\n        style: \"destructive\"\n      }]);\n    };\n\n    _this.state = {\n      quest: _this.props.route.params.quest\n    };\n    return _this;\n  }\n\n  _createClass(ManageQuestScreen, [{\n    key: \"render\",\n    value: function render() {\n      var quest = this.state.quest;\n      return React.createElement(SafeAreaView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }, quest.name), React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 9\n        }\n      }, quest.description), React.createElement(TouchableOpacity, {\n        style: styles.addQuestButton,\n        onPress: this.displayDeletionAlert,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, \"Delete this Quest\")));\n    }\n  }]);\n\n  return ManageQuestScreen;\n}(React.Component);\n\nManageQuestScreen.contextType = NetworkContext;\nexport { ManageQuestScreen as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\"\n  },\n  addQuestButton: {\n    width: '40%',\n    paddingTop: 16,\n    paddingBottom: 16,\n    marginTop: 7,\n    backgroundColor: \"#22AAAA\",\n    borderRadius: 15,\n    borderWidth: 2,\n    borderColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"sources":["C:/Users/Calvin/Desktop/team-project-2-bellwoods-strategic-capital/HappinessApp-ReactNative/screens/JourneyManagement/ManageQuestScreen.js"],"names":["React","NetworkContext","url","ManageQuestScreen","props","deleteThisQuest","quest","state","navigation","data","method","headers","context","token","fetch","id","result","goBack","displayNoConnectionAlert","displayDeletionAlert","Alert","alert","text","style","onPress","route","params","styles","container","name","description","addQuestButton","Component","contextType","StyleSheet","create","flex","alignItems","width","paddingTop","paddingBottom","marginTop","backgroundColor","borderRadius","borderWidth","borderColor","justifyContent"],"mappings":"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","sourcesContent":["import \"react-native-gesture-handler\";\r\nimport React from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  Alert,\r\n  SafeAreaView,\r\n  TouchableOpacity, ScrollView,\r\n} from \"react-native\";\r\nimport {NetworkContext} from \"../../contexts/Networking\";\r\n\r\nconst url = 'http://3.15.239.159:8000'\r\n\r\nexport default class ManageQuestScreen extends React.Component {\r\n\r\n  static contextType = NetworkContext\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      quest: this.props.route.params.quest\r\n    }\r\n  }\r\n\r\n  deleteThisQuest = async() => {\r\n    const { quest } = this.state\r\n    const { navigation } = this.props\r\n\r\n    const data = {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Authorization': 'Token ' + this.context.token\r\n      },\r\n    }\r\n    try {\r\n      let result = await fetch(url + '/api/quests/' + quest.id + '/', data)\r\n      navigation.goBack()\r\n    } catch (e) {\r\n      this.context.displayNoConnectionAlert()\r\n    }\r\n  }\r\n\r\n  displayDeletionAlert = () => {\r\n    Alert.alert(\r\n      \"Deletion Alert\",\r\n      \"Are you sure you want to delete this Quest? This quest may be a part of other journeys.\\nYou can't undo this action.\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          style: \"cancel\"\r\n        },\r\n        {\r\n          text: \"Delete\",\r\n          onPress: this.deleteThisQuest,\r\n          style: \"destructive\"\r\n        }\r\n      ]\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { quest } = this.state\r\n\r\n    return (\r\n      <SafeAreaView style={styles.container}>\r\n        <Text>{quest.name}</Text>\r\n        <Text>{quest.description}</Text>\r\n\r\n        <TouchableOpacity\r\n          style={styles.addQuestButton}\r\n          onPress={this.displayDeletionAlert}\r\n        >\r\n          <Text>Delete this Quest</Text>\r\n        </TouchableOpacity>\r\n      </SafeAreaView>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n  },\r\n  addQuestButton: {\r\n    width: '40%',\r\n    paddingTop: 16,\r\n    paddingBottom: 16,\r\n    marginTop: 7,\r\n    backgroundColor: \"#22AAAA\",\r\n    borderRadius: 15,\r\n    borderWidth: 2,\r\n    borderColor: \"#fff\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}