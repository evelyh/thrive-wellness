{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Calvin\\\\Desktop\\\\team-project-2-bellwoods-strategic-capital\\\\HappinessApp-ReactNative\\\\screens\\\\journey_components\\\\JourneyTree.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { QuestListItem } from \"../JourneyManagement/ManageJourneyScreen\";\nimport { NetworkContext } from \"../../contexts/Networking\";\nimport { Card, Title, Paragraph, Button } from \"react-native-paper\";\n\nvar JourneyTreeComponent = function (_Component) {\n  _inherits(JourneyTreeComponent, _Component);\n\n  var _super = _createSuper(JourneyTreeComponent);\n\n  function JourneyTreeComponent() {\n    var _this;\n\n    _classCallCheck(this, JourneyTreeComponent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      completedQuests: [],\n      updated: false\n    };\n\n    _this.handleJourneyTap = function (quest) {\n      console.log(quest);\n      var navigate = _this.props.navigation.navigate;\n      navigate(\"Quest\", {\n        quest: quest\n      });\n    };\n\n    _this.onSelect = function (quest) {\n      var navigate = _this.props.navigation.navigate;\n      setTimeout(function () {\n        _this.setState({\n          updated: false\n        });\n      }, 2000);\n      navigate(\"Quest\", {\n        quest: quest\n      });\n    };\n\n    _this.getQuestProgress = function _callee() {\n      var journey, journeyProgress;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              journey = _this.props.journey;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(_this.context.getJourneyProgress(journey.id));\n\n            case 3:\n              journeyProgress = _context.sent;\n\n              _this.setState({\n                completedQuests: journeyProgress.completed\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.componentDidMount = function _callee2() {\n      var journey, journeyProgress;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              journey = _this.props.journey;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(_this.context.getJourneyProgress(journey.id));\n\n            case 3:\n              journeyProgress = _context2.sent;\n\n              _this.setState({\n                completedQuests: journeyProgress.completed\n              });\n\n              _this._unsubscribe = _this.props.navigation.addListener(\"focus\", function () {\n                return _this.getQuestProgress();\n              });\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderItem = function (_ref) {\n      var item = _ref.item;\n      return React.createElement(Card, {\n        style: [cardStyles.cardContainer, _this.state.completedQuests.findIndex(function (completedQuest) {\n          return completedQuest.id === item.id;\n        }) != -1 ? {\n          backgroundColor: \"#6ff2b1\"\n        } : {\n          backgroundColor: \"#edf7f5\"\n        }],\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 5\n        }\n      }, React.createElement(Card.Content, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, React.createElement(Title, {\n        style: {\n          fontSize: 25,\n          flex: 7\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 19\n        }\n      }, item.name), React.createElement(Title, {\n        style: {\n          fontSize: 20,\n          flex: 1\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 19\n        }\n      }, \"1 \\u2605\", \" \")), React.createElement(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }, React.createElement(Paragraph, {\n        style: {\n          fontWeight: \"bold\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 19\n        }\n      }, \"Estimated Time:\", \" \"), React.createElement(Paragraph, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }\n      }, \"1 Minutes \")), React.createElement(Paragraph, {\n        style: {\n          fontWeight: \"bold\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }, \"Instructions:\"), React.createElement(Paragraph, {\n        numberOfLines: 4,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      }, item.description)), React.createElement(Card.Actions, {\n        style: {\n          margin: 0,\n          padding: 0,\n          justifyContent: \"flex-end\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }\n      }, React.createElement(Button, {\n        labelStyle: {\n          fontSize: 16\n        },\n        onPress: function onPress() {\n          return _this.handleJourneyTap(item);\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }, \"Start Quest\")));\n    };\n\n    return _this;\n  }\n\n  _createClass(JourneyTreeComponent, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._unsubscribe();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var journey = this.props.journey;\n      var name = journey.name,\n          quests = journey.quests;\n      var completedQuests = this.state.completedQuests;\n      return React.createElement(SafeAreaView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: MIStyles.MIContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: MIStyles.MIPictureContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        style: MIStyles.MIPicture,\n        source: require(\"../../assets/placeholder_journey_image.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        style: MIStyles.MITextContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: MIStyles.MIDescriptionText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }, journey.description)), React.createElement(FlatList, {\n        nestedScrollEnabled: true,\n        data: journey.quests,\n        keyExtractor: function keyExtractor(item) {\n          return item.name;\n        },\n        renderItem: this.renderItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }\n      }), React.createElement(Button, {\n        mode: \"contained\",\n        style: {\n          alignSelf: \"center\"\n        },\n        contentStyle: {\n          minHeight: 50\n        },\n        labelStyle: {\n          fontSize: 18\n        },\n        onPress: function onPress() {\n          return _this2.props.onBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }, \"Back To Journey List\")));\n    }\n  }]);\n\n  return JourneyTreeComponent;\n}(Component);\n\nJourneyTreeComponent.contextType = NetworkContext;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\"\n  },\n  journeyButton: {\n    width: 200,\n    marginRight: 40,\n    marginLeft: 40,\n    marginTop: 10,\n    paddingTop: 10,\n    paddingBottom: 10,\n    backgroundColor: \"#BADEDE\",\n    borderRadius: 30,\n    borderColor: \"#fff\",\n    alignItems: \"center\"\n  },\n  backButton: {\n    width: 200,\n    marginRight: 40,\n    marginLeft: 40,\n    marginTop: 2,\n    marginBottom: 2,\n    paddingTop: 10,\n    paddingBottom: 10,\n    backgroundColor: \"#D3D3D3\",\n    borderRadius: 30,\n    borderWidth: 1,\n    borderColor: \"#fff\",\n    alignItems: \"center\"\n  },\n  centerView: {\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  scrollView: {\n    flex: 9,\n    flexDirection: \"column\",\n    width: \"100%\"\n  },\n  scrollContents: {\n    alignItems: \"center\"\n  },\n  heading: {\n    fontSize: 32,\n    color: \"#6A8099\",\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    margin: 15\n  },\n  heading2: {\n    fontSize: 16,\n    color: \"#7E6847\",\n    textAlign: \"center\"\n  },\n  text: {\n    fontSize: 16,\n    color: \"#27214D\",\n    textAlign: \"center\",\n    margin: 2\n  }\n});\nvar MIStyles = StyleSheet.create({\n  MIContainer: {\n    flex: 1,\n    alignItems: \"center\",\n    backgroundColor: \"#ffffdc\"\n  },\n  MITextContainer: {\n    marginHorizontal: 10,\n    marginTop: 10\n  },\n  MIDescriptionText: {\n    fontSize: 20,\n    textAlign: 'center'\n  },\n  MIPicture: {\n    width: '100%',\n    height: 200\n  },\n  MIPictureContainer: {\n    flexDirection: 'row',\n    justifyContent: \"center\",\n    margin: 10\n  },\n  MIButtonContainer: {\n    marginBottom: 15,\n    flex: 1,\n    justifyContent: \"flex-end\"\n  },\n  MIButton: {\n    borderWidth: 1,\n    borderRadius: 10,\n    borderColor: 'blue'\n  }\n});\nvar cardStyles = StyleSheet.create({\n  cardContainer: {\n    margin: 10,\n    marginHorizontal: 10,\n    padding: 10,\n    shadowRadius: 15,\n    backgroundColor: \"#edf7f5\",\n    elevation: 4,\n    minWidth: '90%'\n  }\n});\nexport default JourneyTreeComponent;","map":{"version":3,"sources":["C:/Users/Calvin/Desktop/team-project-2-bellwoods-strategic-capital/HappinessApp-ReactNative/screens/journey_components/JourneyTree.js"],"names":["React","Component","QuestListItem","NetworkContext","Card","Title","Paragraph","Button","JourneyTreeComponent","state","completedQuests","updated","handleJourneyTap","quest","console","log","navigate","props","navigation","onSelect","setTimeout","setState","getQuestProgress","journey","context","getJourneyProgress","id","journeyProgress","completed","componentDidMount","_unsubscribe","addListener","renderItem","item","cardStyles","cardContainer","findIndex","completedQuest","backgroundColor","flexDirection","justifyContent","fontSize","flex","name","fontWeight","description","margin","padding","quests","styles","container","MIStyles","MIContainer","MIPictureContainer","MIPicture","require","MITextContainer","MIDescriptionText","alignSelf","minHeight","onBack","contextType","StyleSheet","create","alignItems","journeyButton","width","marginRight","marginLeft","marginTop","paddingTop","paddingBottom","borderRadius","borderColor","backButton","marginBottom","borderWidth","centerView","height","scrollView","scrollContents","heading","color","textAlign","heading2","text","marginHorizontal","MIButtonContainer","MIButton","shadowRadius","elevation","minWidth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  TouchableOpacity,\r\n  FlatList,\r\n  SafeAreaView,\r\n  Image\r\n} from \"react-native\";\r\nimport { QuestListItem } from \"../JourneyManagement/ManageJourneyScreen\";\r\nimport { NetworkContext } from \"../../contexts/Networking\";\r\nimport { Card, Title, Paragraph, Button } from \"react-native-paper\";\r\n\r\nclass JourneyTreeComponent extends Component {\r\n  // Function to navigate to quest screen and hand over quest object to it\r\n\r\n  static contextType = NetworkContext;\r\n\r\n  state = {\r\n    completedQuests: [],\r\n    updated: false,\r\n  };\r\n\r\n  handleJourneyTap = (quest) => {\r\n    console.log(quest)\r\n    const { navigate } = this.props.navigation;\r\n    navigate(\"Quest\", { quest }); \r\n  };\r\n\r\n  onSelect = (quest) => {\r\n    const { navigate } = this.props.navigation;\r\n    setTimeout(() => {\r\n      this.setState({ updated: false });\r\n    }, 2000);\r\n    navigate(\"Quest\", { quest });\r\n  };\r\n\r\n  getQuestProgress = async () => {\r\n    const { journey } = this.props;\r\n    const journeyProgress = await this.context.getJourneyProgress(journey.id);\r\n    this.setState({\r\n      completedQuests: journeyProgress.completed,\r\n    });\r\n  };\r\n\r\n  componentDidMount = async () =>{\r\n    const { journey } = this.props;\r\n    const journeyProgress = await this.context.getJourneyProgress(journey.id);\r\n    this.setState({\r\n      completedQuests: journeyProgress.completed,\r\n    });\r\n    this._unsubscribe = this.props.navigation.addListener(\"focus\", () =>\r\n      this.getQuestProgress()\r\n    );\r\n  };\r\n\r\n  componentWillUnmount(){\r\n    this._unsubscribe();\r\n  };\r\n\r\n  renderItem = ({ item }) => (\r\n    <Card style={[cardStyles.cardContainer, this.state.completedQuests.findIndex(\r\n      (completedQuest) => completedQuest.id === item.id\r\n    ) != -1\r\n      ? { backgroundColor: \"#6ff2b1\" }\r\n      : { backgroundColor: \"#edf7f5\" },]}>\r\n              <Card.Content>\r\n                <View\r\n                  style={{ flexDirection: \"row\", justifyContent: \"space-between\" }}\r\n                >\r\n                  <Title style={{ fontSize: 25, flex: 7 }}>\r\n                    {item.name}\r\n                  </Title>\r\n                  <Title style={{ fontSize: 20, flex: 1 }}>\r\n                    1 ★{\" \"}\r\n                  </Title>\r\n                </View>\r\n                <View style={{ flexDirection: \"row\" }}>\r\n                  <Paragraph style={{ fontWeight: \"bold\" }}>\r\n                    Estimated Time:{\" \"}\r\n                  </Paragraph>\r\n                  <Paragraph>1 Minutes </Paragraph>\r\n                </View>\r\n    \r\n                <Paragraph style={{ fontWeight: \"bold\" }}>Instructions:</Paragraph>\r\n                <Paragraph numberOfLines={4}>{item.description}</Paragraph>\r\n              </Card.Content>\r\n              <Card.Actions\r\n                style={{ margin: 0, padding: 0, justifyContent: \"flex-end\" }}\r\n              >\r\n                <Button\r\n                  labelStyle={{ fontSize: 16 }}\r\n                  onPress={() => this.handleJourneyTap(item)}\r\n                >\r\n                  Start Quest\r\n                </Button>\r\n              </Card.Actions>\r\n            </Card>\r\n    )\r\n\r\n  render() {\r\n    const { journey } = this.props; // Get journey object from parent\r\n    const { name, quests } = journey; // Get name and quest from journey object\r\n    const { completedQuests } = this.state; // Get completed quests from state\r\n\r\n    return (\r\n      // Loop through and display each individual quest from journey object\r\n      <SafeAreaView style={styles.container}>\r\n      <View style={MIStyles.MIContainer}>\r\n            <View style={MIStyles.MIPictureContainer}>\r\n                <Image\r\n                    style={MIStyles.MIPicture}\r\n                    source={require(\"../../assets/placeholder_journey_image.png\")}\r\n                />\r\n            </View>\r\n            <View style={MIStyles.MITextContainer}>\r\n                <Text style={MIStyles.MIDescriptionText}>\r\n                    {journey.description}\r\n                </Text>\r\n\r\n            </View>\r\n            <FlatList\r\n\t\t\t\t\t\tnestedScrollEnabled\r\n            data={journey.quests}\r\n            keyExtractor={(item) => (item.name)}\r\n\t\t\t\t\t\trenderItem={this.renderItem}\r\n\t\t\t\t\t/>\r\n                <Button\r\n                    mode=\"contained\"\r\n                    style={{ alignSelf: \"center\" }}\r\n                    contentStyle={{ minHeight: 50 }}\r\n                    labelStyle={{ fontSize: 18 }}\r\n                    onPress={() => this.props.onBack()}>\r\n                    Back To Journey List\r\n                </Button>\r\n        </View>\r\n        </SafeAreaView>\r\n    );\r\n  }\r\n}\r\n\r\n// Styles for button, etc.\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n  },\r\n  journeyButton: {\r\n    width: 200,\r\n    marginRight: 40,\r\n    marginLeft: 40,\r\n    marginTop: 10,\r\n    paddingTop: 10,\r\n    paddingBottom: 10,\r\n    backgroundColor: \"#BADEDE\",\r\n    borderRadius: 30,\r\n    borderColor: \"#fff\",\r\n    alignItems: \"center\",\r\n  },\r\n  backButton: {\r\n    width: 200,\r\n    marginRight: 40,\r\n    marginLeft: 40,\r\n    marginTop: 2,\r\n    marginBottom: 2,\r\n    paddingTop: 10,\r\n    paddingBottom: 10,\r\n    backgroundColor: \"#D3D3D3\",\r\n    borderRadius: 30,\r\n    borderWidth: 1,\r\n    borderColor: \"#fff\",\r\n    alignItems: \"center\",\r\n  },\r\n  centerView: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  scrollView: {\r\n    flex: 9,\r\n    flexDirection: \"column\",\r\n    width: \"100%\",\r\n  },\r\n  scrollContents: {\r\n    alignItems: \"center\",\r\n  },\r\n  heading: {\r\n    fontSize: 32,\r\n    color: \"#6A8099\",\r\n    textAlign: \"center\",\r\n    fontWeight: \"bold\",\r\n    margin: 15,\r\n  },\r\n\r\n  heading2: {\r\n    fontSize: 16,\r\n    color: \"#7E6847\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  text: {\r\n    fontSize: 16,\r\n    color: \"#27214D\",\r\n    textAlign: \"center\",\r\n    margin: 2,\r\n  },\r\n});\r\n\r\nconst MIStyles = StyleSheet.create({\r\n  MIContainer: {\r\n      flex: 1,\r\n      alignItems: \"center\",\r\n      backgroundColor: \"#ffffdc\"\r\n  },\r\n  MITextContainer: {\r\n      marginHorizontal: 10,\r\n      marginTop: 10,\r\n  },\r\n  MIDescriptionText: {\r\n      fontSize: 20,\r\n      textAlign: 'center',\r\n  },\r\n  MIPicture: {\r\n      width: '100%',\r\n      height: 200,\r\n  },\r\n  MIPictureContainer: {\r\n      flexDirection: 'row',\r\n      justifyContent: \"center\",\r\n      margin: 10,\r\n  },\r\n  MIButtonContainer: {\r\n      // justifyContent: \"center\",\r\n      marginBottom: 15,\r\n      flex: 1,\r\n      justifyContent: \"flex-end\",\r\n  },\r\n  MIButton: {\r\n      borderWidth: 1,\r\n      borderRadius: 10,\r\n      borderColor: 'blue',\r\n  }\r\n})\r\n\r\nconst cardStyles = StyleSheet.create({\r\n  cardContainer: {\r\n    margin: 10,\r\n    marginHorizontal: 10,\r\n    padding: 10,\r\n    shadowRadius: 15,\r\n    backgroundColor: \"#edf7f5\",\r\n    elevation: 4,\r\n    minWidth: '90%',\r\n  },\r\n});\r\n\r\nexport default JourneyTreeComponent;\r\n"]},"metadata":{},"sourceType":"module"}