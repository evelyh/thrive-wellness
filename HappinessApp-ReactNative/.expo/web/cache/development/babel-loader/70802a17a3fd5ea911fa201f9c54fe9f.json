{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/FROG/csc301/team-project-4-bellwoods-strategic-capital/HappinessApp-ReactNative/screens/JourneyManagement/ManageJourneyScreen.js\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport \"react-native-gesture-handler\";\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { FontAwesome, MaterialIcons } from '@expo/vector-icons';\nimport { JourneyListItem } from \"./ManageAllJourneysScreen\";\nimport { NetworkContext } from \"../../contexts/Networking\";\nvar url = 'http://3.15.239.159:8000';\n\nvar ManageJourneyScreen = function (_React$Component) {\n  _inherits(ManageJourneyScreen, _React$Component);\n\n  var _super = _createSuper(ManageJourneyScreen);\n\n  function ManageJourneyScreen(props) {\n    var _this;\n\n    _classCallCheck(this, ManageJourneyScreen);\n\n    _this = _super.call(this, props);\n\n    _this.onEdit = function () {\n      _this.setState({\n        editMode: true\n      });\n    };\n\n    _this.onDone = function _callee() {\n      var i, questId, reorderedString, _i, _questId, data, journeyId, fetchResponse, respJson;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                editMode: false\n              });\n\n              for (i = 0; i < _this.state.removedQuests.length; i++) {\n                questId = _this.state.removedQuests[i];\n\n                _this.deleteQuest(questId);\n\n                console.log('deleting quest ', questId);\n              }\n\n              reorderedString = \"\";\n\n              for (_i = 0; _i < _this.state.quests.length; _i++) {\n                _questId = _this.state.quests[_i].id;\n                reorderedString += _questId + ',';\n              }\n\n              reorderedString = reorderedString.slice(0, -1);\n              data = {\n                method: \"GET\",\n                headers: {\n                  Accept: \"application/json\",\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Token \" + _this.context.token\n                }\n              };\n              journeyId = _this.state.journey.id;\n              _context.prev = 7;\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(fetch(url + \"/api/journeys/\" + journeyId + \"/reorder-quests?ids=\" + reorderedString, data));\n\n            case 10:\n              fetchResponse = _context.sent;\n              _context.next = 13;\n              return _regeneratorRuntime.awrap(fetchResponse.json());\n\n            case 13:\n              respJson = _context.sent;\n              console.log(respJson);\n              _context.next = 21;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](7);\n              console.log(_context.t0);\n\n              _this.context.displayNoConnectionAlert();\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[7, 17]], Promise);\n    };\n\n    _this.deleteQuest = function _callee2(questId) {\n      var journeyId, data, fetchResponse, respJson;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              journeyId = _this.state.journey.id;\n              data = {\n                method: \"DELETE\",\n                headers: {\n                  Accept: \"application/json\",\n                  \"Content-Type\": \"application/json\",\n                  Authorization: \"Token \" + _this.context.token\n                }\n              };\n              _context2.prev = 2;\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(fetch(url + \"/api/journeys/\" + journeyId + '/quests/' + questId + '/', data));\n\n            case 5:\n              fetchResponse = _context2.sent;\n              _context2.next = 8;\n              return _regeneratorRuntime.awrap(fetchResponse.json());\n\n            case 8:\n              respJson = _context2.sent;\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](2);\n              console.log(_context2.t0);\n\n              _this.context.displayNoConnectionAlert();\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[2, 11]], Promise);\n    };\n\n    _this.getJourneyInfo = function _callee3() {\n      var journey, fetchedJourney;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              journey = _this.state.journey;\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(_this.context.getJourneyInfo(journey.id));\n\n            case 3:\n              fetchedJourney = _context3.sent;\n\n              _this.setState({\n                journey: fetchedJourney,\n                quests: fetchedJourney.quests\n              });\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.deleteThisJourney = function _callee4() {\n      var journey, navigation;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              journey = _this.state.journey;\n              navigation = _this.props.navigation;\n              _context4.prev = 2;\n              _context4.next = 5;\n              return _regeneratorRuntime.awrap(fetch(url + '/api/journeys/' + journey.id + '/', {\n                method: 'DELETE',\n                headers: {\n                  'Authorization': 'Token ' + _this.context.token\n                }\n              }));\n\n            case 5:\n              navigation.goBack();\n              _context4.next = 11;\n              break;\n\n            case 8:\n              _context4.prev = 8;\n              _context4.t0 = _context4[\"catch\"](2);\n\n              _this.context.displayNoConnectionAlert();\n\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, [[2, 8]], Promise);\n    };\n\n    _this.displayDeletionAlert = function () {\n      Alert.alert(\"Deletion Alert\", \"Are you sure you want to delete this Journey?\\nYou can't undo this action.\", [{\n        text: \"Cancel\",\n        style: \"cancel\"\n      }, {\n        text: \"Delete\",\n        onPress: _this.deleteThisJourney,\n        style: \"destructive\"\n      }]);\n    };\n\n    _this.onMoveQuestUp = function (questId) {\n      var updatedList = [];\n      var isFirst = true;\n\n      for (var _iterator = _createForOfIteratorHelperLoose(_this.state.quests), _step; !(_step = _iterator()).done;) {\n        var quest = _step.value;\n\n        if (quest.id === questId && isFirst) {\n          return;\n        }\n\n        if (quest.id === questId) {\n          var prevQuest = updatedList.pop();\n          updatedList.push(quest);\n          updatedList.push(prevQuest);\n          continue;\n        }\n\n        updatedList.push(quest);\n        isFirst = false;\n      }\n\n      _this.setState({\n        quests: updatedList\n      });\n    };\n\n    _this.onMoveQuestDown = function (questId) {\n      var updatedList = [];\n      var questToMove = null;\n\n      for (var i = 0; i < _this.state.quests.length; i++) {\n        var quest = _this.state.quests[i];\n\n        if (quest.id === questId && i === _this.state.quests.length - 1) {\n          return;\n        }\n\n        if (quest.id === questId) {\n          questToMove = quest;\n          continue;\n        }\n\n        updatedList.push(quest);\n\n        if (questToMove) {\n          updatedList.push(questToMove);\n          questToMove = null;\n        }\n      }\n\n      _this.setState({\n        quests: updatedList\n      });\n    };\n\n    _this.onRemoveQuest = function (questId) {\n      var updatedList = [];\n      var removedQuests = _this.state.removedQuests;\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(_this.state.quests), _step2; !(_step2 = _iterator2()).done;) {\n        var quest = _step2.value;\n\n        if (quest.id === questId) {\n          removedQuests.push(quest.id);\n          continue;\n        }\n\n        updatedList.push(quest);\n      }\n\n      _this.setState({\n        quests: updatedList,\n        removedQuests: removedQuests\n      });\n\n      console.log(_this.state);\n    };\n\n    _this.state = {\n      journey: _this.props.route.params.journey,\n      quests: _this.props.route.params.journey.quests,\n      removedQuests: [],\n      editMode: false\n    };\n    return _this;\n  }\n\n  _createClass(ManageJourneyScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._unsubscribe = this.props.navigation.addListener('focus', function () {\n        _this2.getJourneyInfo();\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._unsubscribe();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var navigate = this.props.navigation.navigate;\n      var _this$state = this.state,\n          journey = _this$state.journey,\n          quests = _this$state.quests;\n      return React.createElement(SafeAreaView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.scrollView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 9\n        }\n      }, React.createElement(ScrollView, {\n        contentContainerStyle: styles.scrollContents,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.journeyDescriptionContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.journeyDescriptionTitleContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.journeyDescriptionTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }\n      }, journey.name)), React.createElement(Text, {\n        style: styles.journeyDescriptionBody,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }\n      }, journey.description), React.createElement(View, {\n        style: styles.horizontalSeparatorLine,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 15\n        }\n      }), React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 15\n        }\n      }, \"All quests:\"), React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 15\n        }\n      }, \"Tap on the quest to review it\")), quests.length ? quests.map(function (quest) {\n        return React.createElement(QuestListItem, {\n          key: quest.id,\n          navigation: _this3.props.navigation,\n          questInfo: quest,\n          onMoveUp: _this3.onMoveQuestUp,\n          onMoveDown: _this3.onMoveQuestDown,\n          onRemove: _this3.onRemoveQuest,\n          edit: _this3.state.editMode,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 17\n          }\n        });\n      }) : React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 17\n        }\n      }, \"Failed to load quests. Check your connection\"))), this.state.editMode ? React.createElement(View, {\n        style: styles.bottomButtonsContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 12\n        }\n      }, React.createElement(View, {\n        style: styles.bottomButtons,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.addQuestButton,\n        onPress: function onPress() {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 17\n        }\n      }, \"Cancel\"))), React.createElement(View, {\n        style: styles.bottomButtons,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.addQuestButton,\n        onPress: this.onDone,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 17\n        }\n      }, \"Done\"))), React.createElement(View, {\n        style: styles.deleteButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.addQuestButton,\n        onPress: this.displayDeletionAlert,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 15\n        }\n      }, React.createElement(FontAwesome, {\n        name: \"trash-o\",\n        size: 22,\n        color: \"black\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 17\n        }\n      })))) : React.createElement(View, {\n        style: styles.bottomButtonsContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 12\n        }\n      }, React.createElement(View, {\n        style: styles.bottomButtons,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.addQuestButton,\n        onPress: function onPress() {\n          return navigate(\"Create Quest\", {\n            'journey': journey\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 17\n        }\n      }, \"+ Quest\"))), React.createElement(View, {\n        style: styles.bottomButtons,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.addQuestButton,\n        onPress: this.onEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 17\n        }\n      }, \"Edit\")))));\n    }\n  }]);\n\n  return ManageJourneyScreen;\n}(React.Component);\n\nManageJourneyScreen.contextType = NetworkContext;\nexport { ManageJourneyScreen as default };\nexport var QuestListItem = function (_React$Component2) {\n  _inherits(QuestListItem, _React$Component2);\n\n  var _super2 = _createSuper(QuestListItem);\n\n  function QuestListItem() {\n    var _this4;\n\n    _classCallCheck(this, QuestListItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this4 = _super2.call.apply(_super2, [this].concat(args));\n\n    _this4.onMoveUp = function () {\n      var id = _this4.props.questInfo.id;\n\n      _this4.props.onMoveUp(id);\n    };\n\n    _this4.onMoveDown = function () {\n      var id = _this4.props.questInfo.id;\n\n      _this4.props.onMoveDown(id);\n    };\n\n    _this4.onRemove = function () {\n      var id = _this4.props.questInfo.id;\n\n      _this4.props.onRemove(id);\n    };\n\n    return _this4;\n  }\n\n  _createClass(QuestListItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$props$questInfo = this.props.questInfo,\n          name = _this$props$questInfo.name,\n          description = _this$props$questInfo.description;\n      var navigate = this.props.navigation.navigate;\n      var edit = this.props.edit;\n      return React.createElement(View, {\n        style: styles.questListEntryContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 7\n        }\n      }, edit && React.createElement(View, {\n        style: styles.removeIcon,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: this.onRemove,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }\n      }, React.createElement(MaterialIcons, {\n        name: \"remove-circle-outline\",\n        size: 28,\n        color: \"red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 15\n        }\n      }))), React.createElement(TouchableOpacity, {\n        style: styles.questListEntryTitle,\n        onPress: function onPress() {\n          return navigate('Manage Quest', {\n            'quest': _this5.props.questInfo\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }\n      }, name, \": \", description)), edit && React.createElement(View, {\n        style: styles.questListOrderButtonsContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 12\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: styles.questListOrderButton,\n        onPress: this.onMoveUp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }\n      }, React.createElement(FontAwesome, {\n        name: \"arrow-circle-o-up\",\n        size: 28,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 15\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.questListOrderButton,\n        onPress: this.onMoveDown,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }\n      }, React.createElement(FontAwesome, {\n        name: \"arrow-circle-o-down\",\n        size: 28,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 15\n        }\n      }))));\n    }\n  }]);\n\n  return QuestListItem;\n}(React.Component);\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\"\n  },\n  scrollView: {\n    flex: 9,\n    flexDirection: 'column',\n    width: '100%'\n  },\n  scrollContents: {\n    alignItems: 'center'\n  },\n  journeyDescriptionContainer: {\n    width: '90%',\n    alignItems: 'center'\n  },\n  journeyDescriptionTitleContainer: {\n    marginTop: 8,\n    marginBottom: 5,\n    backgroundColor: '#badede',\n    borderWidth: 1,\n    borderColor: 'white',\n    borderRadius: 20\n  },\n  journeyDescriptionTitle: {\n    fontSize: 20,\n    marginTop: 8,\n    marginBottom: 8,\n    marginLeft: 15,\n    marginRight: 15\n  },\n  journeyDescriptionBody: {\n    fontSize: 18\n  },\n  bottomButtonsContainer: {\n    flex: 1,\n    marginTop: 3,\n    flexDirection: 'row',\n    justifyContent: 'flex-end'\n  },\n  bottomButtons: {\n    flex: 3,\n    alignItems: 'center'\n  },\n  deleteButton: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  addQuestButton: {\n    width: '90%',\n    height: 50,\n    backgroundColor: \"#22AAAA\",\n    borderRadius: 15,\n    borderWidth: 1,\n    borderColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  questListEntryContainer: {\n    flex: 1,\n    width: '93%',\n    flexDirection: 'row',\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  questListEntryTitle: {\n    flex: 9,\n    paddingTop: 18,\n    paddingBottom: 18,\n    paddingLeft: 11,\n    paddingRight: 11,\n    marginTop: 10,\n    backgroundColor: \"#C9DBC5\",\n    borderRadius: 15,\n    borderWidth: 2,\n    borderColor: \"#fff\",\n    alignItems: \"center\"\n  },\n  questListOrderButtonsContainer: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  questListOrderButton: {\n    flex: 1,\n    justifyContent: 'center'\n  },\n  removeIcon: {\n    flex: 1\n  },\n  text: {\n    fontSize: 16\n  },\n  horizontalSeparatorLine: {\n    width: '100%',\n    borderBottomColor: '#7a7a7a',\n    borderBottomWidth: 1,\n    marginTop: 10,\n    marginBottom: 10\n  }\n});","map":{"version":3,"sources":["/Users/FROG/csc301/team-project-4-bellwoods-strategic-capital/HappinessApp-ReactNative/screens/JourneyManagement/ManageJourneyScreen.js"],"names":["React","FontAwesome","MaterialIcons","JourneyListItem","NetworkContext","url","ManageJourneyScreen","props","onEdit","setState","editMode","onDone","i","state","removedQuests","length","questId","deleteQuest","console","log","reorderedString","quests","id","slice","data","method","headers","Accept","Authorization","context","token","journeyId","journey","fetch","fetchResponse","json","respJson","displayNoConnectionAlert","getJourneyInfo","fetchedJourney","deleteThisJourney","navigation","goBack","displayDeletionAlert","Alert","alert","text","style","onPress","onMoveQuestUp","updatedList","isFirst","quest","prevQuest","pop","push","onMoveQuestDown","questToMove","onRemoveQuest","route","params","_unsubscribe","addListener","navigate","styles","container","scrollView","scrollContents","journeyDescriptionContainer","journeyDescriptionTitleContainer","journeyDescriptionTitle","name","journeyDescriptionBody","description","horizontalSeparatorLine","map","bottomButtonsContainer","bottomButtons","addQuestButton","deleteButton","Component","contextType","QuestListItem","onMoveUp","questInfo","onMoveDown","onRemove","edit","questListEntryContainer","removeIcon","questListEntryTitle","questListOrderButtonsContainer","questListOrderButton","StyleSheet","create","flex","alignItems","flexDirection","width","marginTop","marginBottom","backgroundColor","borderWidth","borderColor","borderRadius","fontSize","marginLeft","marginRight","justifyContent","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderBottomColor","borderBottomWidth"],"mappings":"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","sourcesContent":["import \"react-native-gesture-handler\";\nimport React from \"react\";\nimport {\n  StyleSheet,\n  Text,\n  Alert,\n  View,\n  SafeAreaView,\n  TouchableOpacity,\n  ScrollView,\n} from \"react-native\";\nimport { FontAwesome, MaterialIcons } from '@expo/vector-icons'\n\nimport {JourneyListItem} from \"./ManageAllJourneysScreen\";\nimport {NetworkContext} from \"../../contexts/Networking\";\n\nconst url = 'http://3.15.239.159:8000'\n\nexport default class ManageJourneyScreen extends React.Component {\n\n  static contextType = NetworkContext\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      journey: this.props.route.params.journey,\n      quests: this.props.route.params.journey.quests,\n      removedQuests: [],\n      editMode: false,\n    }\n  }\n\n  onEdit = () => {\n    this.setState({\n      editMode: true\n    })\n  }\n\n  onDone = async () => {\n    this.setState({\n      editMode: false\n    })\n    // Delete removed quests\n    for (let i = 0; i < this.state.removedQuests.length; i++) {\n      const questId = this.state.removedQuests[i]\n      this.deleteQuest(questId)\n      console.log('deleting quest ', questId)\n    }\n\n    // Reorder\n    let reorderedString = \"\"\n    for (let i = 0; i < this.state.quests.length; i++) {\n      const questId = this.state.quests[i].id\n      reorderedString += questId + ','\n    }\n    // Remove last comma\n    reorderedString = reorderedString.slice(0, -1);\n\n    const data = {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Token \" + this.context.token,\n      }\n    }\n\n    const journeyId = this.state.journey.id\n    try {\n      let fetchResponse = await fetch(url + \"/api/journeys/\" +\n        journeyId + \"/reorder-quests?ids=\" + reorderedString, data);\n      let respJson = await fetchResponse.json();\n      console.log(respJson)\n    } catch (e) {\n      console.log(e)\n      this.context.displayNoConnectionAlert();\n    }\n  }\n\n  deleteQuest = async (questId) => {\n    const journeyId = this.state.journey.id\n    const data = {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Token \" + this.context.token,\n      }\n    }\n    try {\n      let fetchResponse = await fetch(url + \"/api/journeys/\" +\n        journeyId + '/quests/' + questId + '/', data);\n      let respJson = await fetchResponse.json();\n    } catch (e) {\n      console.log(e)\n      this.context.displayNoConnectionAlert();\n    }\n  }\n\n  getJourneyInfo = async () => {\n    const {journey} = this.state\n    let fetchedJourney = await this.context.getJourneyInfo(journey.id)\n    this.setState({\n      journey: fetchedJourney,\n      quests: fetchedJourney.quests\n    })\n  }\n\n  deleteThisJourney = async() => {\n    const { journey } = this.state\n    const { navigation } = this.props\n    try {\n      await fetch(url + '/api/journeys/' + journey.id + '/', {\n        method: 'DELETE',\n        headers: {\n          'Authorization': 'Token ' + this.context.token\n        },\n      })\n\n      navigation.goBack()\n    } catch(e) {\n      this.context.displayNoConnectionAlert()\n    }\n  }\n\n  displayDeletionAlert = () => {\n    Alert.alert(\n      \"Deletion Alert\",\n      \"Are you sure you want to delete this Journey?\\nYou can't undo this action.\",\n      [\n        {\n          text: \"Cancel\",\n          style: \"cancel\"\n        },\n        {\n          text: \"Delete\",\n          onPress: this.deleteThisJourney,\n          style: \"destructive\"\n        }\n      ]\n    );\n  }\n\n  onMoveQuestUp = (questId) => {\n    let updatedList = []\n    let isFirst = true\n    for (let quest of this.state.quests) {\n      if (quest.id === questId && isFirst) {\n        return\n      }\n      if (quest.id === questId) {\n        let prevQuest = updatedList.pop()\n        updatedList.push(quest)\n        updatedList.push(prevQuest)\n        continue\n      }\n\n      updatedList.push(quest)\n      isFirst = false\n    }\n    this.setState({\n      quests: updatedList\n    })\n  }\n\n  onMoveQuestDown = (questId) => {\n    let updatedList = []\n    let questToMove = null\n    for (let i = 0; i < this.state.quests.length; i++) {\n      let quest = this.state.quests[i]\n\n      if (quest.id === questId && i === this.state.quests.length - 1) {\n        return\n      }\n\n      if (quest.id === questId) {\n        questToMove = quest\n        continue\n      }\n\n      updatedList.push(quest)\n      if(questToMove) {\n        updatedList.push(questToMove)\n        questToMove = null\n      }\n    }\n     this.setState({\n      quests: updatedList\n    })\n  }\n\n  onRemoveQuest = (questId) => {\n    let updatedList = []\n    let removedQuests = this.state.removedQuests\n    for (let quest of this.state.quests) {\n      if (quest.id === questId) {\n        removedQuests.push(quest.id)\n        continue\n      }\n      updatedList.push(quest)\n    }\n    this.setState({\n      quests: updatedList,\n      removedQuests: removedQuests\n    })\n    console.log(this.state)\n  }\n\n  componentDidMount() {\n    this._unsubscribe = this.props.navigation.addListener('focus', () => {\n      this.getJourneyInfo()\n    })\n  }\n\n  componentWillUnmount() {\n    this._unsubscribe()\n  }\n\n  render() {\n    const { navigate } = this.props.navigation\n    const { journey, quests } = this.state\n\n    return (\n      <SafeAreaView style={styles.container}>\n        <View style={styles.scrollView}>\n          <ScrollView\n            contentContainerStyle={styles.scrollContents}\n          >\n            <View style={styles.journeyDescriptionContainer}>\n              <View style={styles.journeyDescriptionTitleContainer}>\n                <Text style={styles.journeyDescriptionTitle}>{journey.name}</Text>\n              </View>\n              <Text style={styles.journeyDescriptionBody}>{journey.description}</Text>\n              <View style={styles.horizontalSeparatorLine}/>\n              <Text style={styles.text}>All quests:</Text>\n              <Text style={styles.text}>Tap on the quest to review it</Text>\n            </View>\n            {quests.length ?\n              (quests.map((quest) => (\n                <QuestListItem\n                  key={quest.id}\n                  navigation={this.props.navigation}\n                  questInfo={quest}\n                  onMoveUp={this.onMoveQuestUp}\n                  onMoveDown={this.onMoveQuestDown}\n                  onRemove={this.onRemoveQuest}\n                  edit={this.state.editMode}\n                />))\n              ) : (\n                <Text>Failed to load quests. Check your connection</Text>\n              )\n            }\n          </ScrollView>\n        </View>\n        {(this.state.editMode) ?\n          (<View style={styles.bottomButtonsContainer}>\n            <View style={styles.bottomButtons}>\n              <TouchableOpacity\n                style={styles.addQuestButton}\n                onPress={() => {}}\n              >\n                <Text>Cancel</Text>\n              </TouchableOpacity>\n            </View>\n\n            <View style={styles.bottomButtons}>\n              <TouchableOpacity\n                style={styles.addQuestButton}\n                onPress={this.onDone}\n              >\n                <Text>Done</Text>\n              </TouchableOpacity>\n            </View>\n\n            <View style={styles.deleteButton}>\n              <TouchableOpacity\n                style={styles.addQuestButton}\n                onPress={this.displayDeletionAlert}\n              >\n                <FontAwesome name='trash-o' size={22} color='black'/>\n              </TouchableOpacity>\n            </View>\n          </View>)\n          :\n          (<View style={styles.bottomButtonsContainer}>\n            <View style={styles.bottomButtons}>\n              <TouchableOpacity\n                style={styles.addQuestButton}\n                onPress={() => navigate(\"Create Quest\", {'journey': journey})}\n              >\n                <Text>+ Quest</Text>\n              </TouchableOpacity>\n            </View>\n\n            <View style={styles.bottomButtons}>\n              <TouchableOpacity\n                style={styles.addQuestButton}\n                onPress={this.onEdit}\n              >\n                <Text>Edit</Text>\n              </TouchableOpacity>\n            </View>\n          </View>)\n        }\n      </SafeAreaView>\n    );\n  }\n}\n\nexport class QuestListItem extends React.Component {\n\n  onMoveUp = () => {\n    const {id} = this.props.questInfo\n    this.props.onMoveUp(id)\n  }\n\n  onMoveDown = () => {\n    const {id} = this.props.questInfo\n    this.props.onMoveDown(id)\n  }\n\n  onRemove = () => {\n    const {id} = this.props.questInfo\n    this.props.onRemove(id)\n  }\n\n  render() {\n    const { name, description } = this.props.questInfo\n    const { navigate } = this.props.navigation\n    const { edit } = this.props\n    return(\n      <View style={styles.questListEntryContainer}>\n        {edit && (\n          <View style={styles.removeIcon}>\n            <TouchableOpacity\n              // style={styles.}\n              onPress={this.onRemove}\n            >\n              <MaterialIcons name='remove-circle-outline' size={28} color='red'/>\n            </TouchableOpacity>\n          </View>\n        )}\n        <TouchableOpacity\n          style={styles.questListEntryTitle}\n          onPress={() => navigate('Manage Quest', {'quest': this.props.questInfo})}\n        >\n          <Text style={styles.text}>{name}: {description}</Text>\n        </TouchableOpacity>\n\n        {edit &&\n          (<View style={styles.questListOrderButtonsContainer}>\n            <TouchableOpacity\n              style={styles.questListOrderButton}\n              onPress={this.onMoveUp}\n            >\n              <FontAwesome name='arrow-circle-o-up' size={28}/>\n\n            </TouchableOpacity>\n            <TouchableOpacity\n              style={styles.questListOrderButton}\n              onPress={this.onMoveDown}\n            >\n              <FontAwesome name='arrow-circle-o-down' size={28}/>\n            </TouchableOpacity>\n          </View>)\n        }\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n  },\n  scrollView: {\n    flex: 9,\n    flexDirection: 'column',\n    width: '100%',\n  },\n  scrollContents: {\n    alignItems: 'center',\n  },\n  journeyDescriptionContainer: {\n    width: '90%',\n    alignItems: 'center',\n  },\n  journeyDescriptionTitleContainer: {\n    marginTop: 8,\n    marginBottom: 5,\n    backgroundColor: '#badede',\n    borderWidth: 1,\n    borderColor: 'white',\n    borderRadius: 20,\n  },\n  journeyDescriptionTitle: {\n    fontSize: 20,\n    marginTop: 8,\n    marginBottom: 8,\n    marginLeft: 15,\n    marginRight: 15,\n  },\n  journeyDescriptionBody: {\n    fontSize: 18\n  },\n  bottomButtonsContainer: {\n    flex: 1,\n    marginTop: 3,\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n  },\n  bottomButtons: {\n    flex: 3,\n    alignItems: 'center'\n  },\n  deleteButton: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  addQuestButton: {\n    width: '90%',\n    height: 50,\n    backgroundColor: \"#22AAAA\",\n    borderRadius: 15,\n    borderWidth: 1,\n    borderColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  questListEntryContainer: {\n    flex: 1,\n    width: '93%',\n    flexDirection: 'row',\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  questListEntryTitle: {\n    flex: 9,\n    paddingTop: 18,\n    paddingBottom: 18,\n    paddingLeft: 11,\n    paddingRight: 11,\n    marginTop: 10,\n    backgroundColor: \"#C9DBC5\",\n    borderRadius: 15,\n    borderWidth: 2,\n    borderColor: \"#fff\",\n    alignItems: \"center\",\n  },\n  questListOrderButtonsContainer: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  questListOrderButton: {\n    flex: 1,\n    justifyContent: 'center'\n  },\n  removeIcon: {\n    flex: 1,\n  },\n  text: {\n    fontSize: 16\n  },\n  horizontalSeparatorLine: {\n    width: '100%',\n    borderBottomColor: '#7a7a7a',\n    borderBottomWidth: 1,\n    marginTop: 10,\n    marginBottom: 10,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}